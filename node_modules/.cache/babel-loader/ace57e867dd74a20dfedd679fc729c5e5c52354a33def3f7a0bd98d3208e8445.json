{"ast":null,"code":"// src/components/UserModal.tsx\nimport React,{useState,useEffect}from\"react\";import\"./UserModal.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserModal=_ref=>{let{isOpen,onClose,userInfo,setUserInfo}=_ref;const[fullName,setFullName]=useState(userInfo.fullName);const[position,setPosition]=useState(userInfo.position);const[photo,setPhoto]=useState(userInfo.photo);const[background,setBackground]=useState(userInfo.background);useEffect(()=>{// Оновлюємо локальний стан при зміні userInfo\nsetFullName(userInfo.fullName);setPosition(userInfo.position);setPhoto(userInfo.photo);setBackground(userInfo.background);},[userInfo]);const handlePhotoChange=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){const reader=new FileReader();reader.onloadend=()=>{setPhoto(reader.result);};reader.readAsDataURL(file);}};const handleBackgroundChange=e=>{var _e$target$files2;const file=(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0];if(file){const reader=new FileReader();reader.onloadend=()=>{setBackground(reader.result);};reader.readAsDataURL(file);}};const handleSubmit=()=>{if(fullName.trim()===\"\"||position.trim()===\"\"){alert(\"Повне ім’я та посада не можуть бути порожніми\");return;}setUserInfo({fullName,position,photo,background});onClose();};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content user-modal-content\",onClick:e=>e.stopPropagation()// Запобігає закриттю при кліку всередині модалки\n,children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0406\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0456\\u044F \\u043F\\u0440\\u043E \\u043A\\u043E\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullName\",children:\"\\u041F\\u043E\\u0432\\u043D\\u0435 \\u0456\\u043C\\u2019\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"fullName\",type:\"text\",value:fullName,onChange:e=>setFullName(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"position\",children:\"\\u041F\\u043E\\u0441\\u0430\\u0434\\u0430:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"position\",type:\"text\",value:position,onChange:e=>setPosition(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"photo\",children:\"\\u0424\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0456\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"photo\",type:\"file\",accept:\"image/*\",onChange:handlePhotoChange}),photo&&/*#__PURE__*/_jsx(\"div\",{className:\"photo-preview\",children:/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"User Preview\"})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"background\",children:\"\\u0424\\u043E\\u043D\\u043E\\u0432\\u0435 \\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"background\",type:\"file\",accept:\"image/*\",onChange:handleBackgroundChange}),background&&/*#__PURE__*/_jsx(\"div\",{className:\"background-preview\",children:/*#__PURE__*/_jsx(\"img\",{src:background,alt:\"Background Preview\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"save-user-button\",onClick:handleSubmit,children:\"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438\"})]})]})});};export default UserModal;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","UserModal","_ref","isOpen","onClose","userInfo","setUserInfo","fullName","setFullName","position","setPosition","photo","setPhoto","background","setBackground","handlePhotoChange","e","_e$target$files","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleBackgroundChange","_e$target$files2","handleSubmit","trim","alert","className","onClick","children","stopPropagation","htmlFor","id","type","value","onChange","accept","src","alt"],"sources":["C:/Users/Admin/Desktop/WEB/Academy/exam react/Проектів/src/components/UserModal.tsx"],"sourcesContent":["// src/components/UserModal.tsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./UserModal.css\";\r\n\r\ninterface UserInfo {\r\n  fullName: string;\r\n  position: string;\r\n  photo: string; // URL або base64 рядок для фотографії\r\n  background: string; // URL або base64 рядок для фонового зображення\r\n}\r\n\r\ninterface UserModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  userInfo: UserInfo;\r\n  setUserInfo: (info: UserInfo) => void;\r\n}\r\n\r\nconst UserModal: React.FC<UserModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  userInfo,\r\n  setUserInfo,\r\n}) => {\r\n  const [fullName, setFullName] = useState<string>(userInfo.fullName);\r\n  const [position, setPosition] = useState<string>(userInfo.position);\r\n  const [photo, setPhoto] = useState<string>(userInfo.photo);\r\n  const [background, setBackground] = useState<string>(userInfo.background);\r\n\r\n  useEffect(() => {\r\n    // Оновлюємо локальний стан при зміні userInfo\r\n    setFullName(userInfo.fullName);\r\n    setPosition(userInfo.position);\r\n    setPhoto(userInfo.photo);\r\n    setBackground(userInfo.background);\r\n  }, [userInfo]);\r\n\r\n  const handlePhotoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPhoto(reader.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleBackgroundChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setBackground(reader.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (fullName.trim() === \"\" || position.trim() === \"\") {\r\n      alert(\"Повне ім’я та посада не можуть бути порожніми\");\r\n      return;\r\n    }\r\n    setUserInfo({ fullName, position, photo, background });\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      <div\r\n        className=\"modal-content user-modal-content\"\r\n        onClick={(e) => e.stopPropagation()} // Запобігає закриттю при кліку всередині модалки\r\n      >\r\n        <button className=\"modal-close\" onClick={onClose}>\r\n          &times;\r\n        </button>\r\n        <h2>Інформація про користувача</h2>\r\n        <div className=\"user-form\">\r\n          <label htmlFor=\"fullName\">Повне ім’я:</label>\r\n          <input\r\n            id=\"fullName\"\r\n            type=\"text\"\r\n            value={fullName}\r\n            onChange={(e) => setFullName(e.target.value)}\r\n          />\r\n\r\n          <label htmlFor=\"position\">Посада:</label>\r\n          <input\r\n            id=\"position\"\r\n            type=\"text\"\r\n            value={position}\r\n            onChange={(e) => setPosition(e.target.value)}\r\n          />\r\n\r\n          <label htmlFor=\"photo\">Фотографія:</label>\r\n          <input\r\n            id=\"photo\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handlePhotoChange}\r\n          />\r\n\r\n          {photo && (\r\n            <div className=\"photo-preview\">\r\n              <img src={photo} alt=\"User Preview\" />\r\n            </div>\r\n          )}\r\n\r\n          <label htmlFor=\"background\">Фонове зображення:</label>\r\n          <input\r\n            id=\"background\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleBackgroundChange}\r\n          />\r\n\r\n          {background && (\r\n            <div className=\"background-preview\">\r\n              <img src={background} alt=\"Background Preview\" />\r\n            </div>\r\n          )}\r\n\r\n          <button className=\"save-user-button\" onClick={handleSubmit}>\r\n            Зберегти\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserModal;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAgBzB,KAAM,CAAAC,SAAmC,CAAGC,IAAA,EAKtC,IALuC,CAC3CC,MAAM,CACNC,OAAO,CACPC,QAAQ,CACRC,WACF,CAAC,CAAAJ,IAAA,CACC,KAAM,CAACK,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAASU,QAAQ,CAACE,QAAQ,CAAC,CACnE,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAASU,QAAQ,CAACI,QAAQ,CAAC,CACnE,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAASU,QAAQ,CAACM,KAAK,CAAC,CAC1D,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGnB,QAAQ,CAASU,QAAQ,CAACQ,UAAU,CAAC,CAEzEjB,SAAS,CAAC,IAAM,CACd;AACAY,WAAW,CAACH,QAAQ,CAACE,QAAQ,CAAC,CAC9BG,WAAW,CAACL,QAAQ,CAACI,QAAQ,CAAC,CAC9BG,QAAQ,CAACP,QAAQ,CAACM,KAAK,CAAC,CACxBG,aAAa,CAACT,QAAQ,CAACQ,UAAU,CAAC,CACpC,CAAC,CAAE,CAACR,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAU,iBAAiB,CAAIC,CAAsC,EAAK,KAAAC,eAAA,CACpE,KAAM,CAAAC,IAAI,EAAAD,eAAA,CAAGD,CAAC,CAACG,MAAM,CAACC,KAAK,UAAAH,eAAA,iBAAdA,eAAA,CAAiB,CAAC,CAAC,CAChC,GAAIC,IAAI,CAAE,CACR,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,SAAS,CAAG,IAAM,CACvBX,QAAQ,CAACS,MAAM,CAACG,MAAgB,CAAC,CACnC,CAAC,CACDH,MAAM,CAACI,aAAa,CAACP,IAAI,CAAC,CAC5B,CACF,CAAC,CAED,KAAM,CAAAQ,sBAAsB,CAAIV,CAAsC,EAAK,KAAAW,gBAAA,CACzE,KAAM,CAAAT,IAAI,EAAAS,gBAAA,CAAGX,CAAC,CAACG,MAAM,CAACC,KAAK,UAAAO,gBAAA,iBAAdA,gBAAA,CAAiB,CAAC,CAAC,CAChC,GAAIT,IAAI,CAAE,CACR,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,SAAS,CAAG,IAAM,CACvBT,aAAa,CAACO,MAAM,CAACG,MAAgB,CAAC,CACxC,CAAC,CACDH,MAAM,CAACI,aAAa,CAACP,IAAI,CAAC,CAC5B,CACF,CAAC,CAED,KAAM,CAAAU,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIrB,QAAQ,CAACsB,IAAI,CAAC,CAAC,GAAK,EAAE,EAAIpB,QAAQ,CAACoB,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACpDC,KAAK,CAAC,+CAA+C,CAAC,CACtD,OACF,CACAxB,WAAW,CAAC,CAAEC,QAAQ,CAAEE,QAAQ,CAAEE,KAAK,CAAEE,UAAW,CAAC,CAAC,CACtDT,OAAO,CAAC,CAAC,CACX,CAAC,CAED,GAAI,CAACD,MAAM,CAAE,MAAO,KAAI,CAExB,mBACEL,IAAA,QAAKiC,SAAS,CAAC,eAAe,CAACC,OAAO,CAAE5B,OAAQ,CAAA6B,QAAA,cAC9CjC,KAAA,QACE+B,SAAS,CAAC,kCAAkC,CAC5CC,OAAO,CAAGhB,CAAC,EAAKA,CAAC,CAACkB,eAAe,CAAC,CAAG;AAAA,CAAAD,QAAA,eAErCnC,IAAA,WAAQiC,SAAS,CAAC,aAAa,CAACC,OAAO,CAAE5B,OAAQ,CAAA6B,QAAA,CAAC,MAElD,CAAQ,CAAC,cACTnC,IAAA,OAAAmC,QAAA,CAAI,oJAA0B,CAAI,CAAC,cACnCjC,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAE,QAAA,eACxBnC,IAAA,UAAOqC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,0DAAW,CAAO,CAAC,cAC7CnC,IAAA,UACEsC,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE/B,QAAS,CAChBgC,QAAQ,CAAGvB,CAAC,EAAKR,WAAW,CAACQ,CAAC,CAACG,MAAM,CAACmB,KAAK,CAAE,CAC9C,CAAC,cAEFxC,IAAA,UAAOqC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,uCAAO,CAAO,CAAC,cACzCnC,IAAA,UACEsC,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE7B,QAAS,CAChB8B,QAAQ,CAAGvB,CAAC,EAAKN,WAAW,CAACM,CAAC,CAACG,MAAM,CAACmB,KAAK,CAAE,CAC9C,CAAC,cAEFxC,IAAA,UAAOqC,OAAO,CAAC,OAAO,CAAAF,QAAA,CAAC,+DAAW,CAAO,CAAC,cAC1CnC,IAAA,UACEsC,EAAE,CAAC,OAAO,CACVC,IAAI,CAAC,MAAM,CACXG,MAAM,CAAC,SAAS,CAChBD,QAAQ,CAAExB,iBAAkB,CAC7B,CAAC,CAEDJ,KAAK,eACJb,IAAA,QAAKiC,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5BnC,IAAA,QAAK2C,GAAG,CAAE9B,KAAM,CAAC+B,GAAG,CAAC,cAAc,CAAE,CAAC,CACnC,CACN,cAED5C,IAAA,UAAOqC,OAAO,CAAC,YAAY,CAAAF,QAAA,CAAC,oGAAkB,CAAO,CAAC,cACtDnC,IAAA,UACEsC,EAAE,CAAC,YAAY,CACfC,IAAI,CAAC,MAAM,CACXG,MAAM,CAAC,SAAS,CAChBD,QAAQ,CAAEb,sBAAuB,CAClC,CAAC,CAEDb,UAAU,eACTf,IAAA,QAAKiC,SAAS,CAAC,oBAAoB,CAAAE,QAAA,cACjCnC,IAAA,QAAK2C,GAAG,CAAE5B,UAAW,CAAC6B,GAAG,CAAC,oBAAoB,CAAE,CAAC,CAC9C,CACN,cAED5C,IAAA,WAAQiC,SAAS,CAAC,kBAAkB,CAACC,OAAO,CAAEJ,YAAa,CAAAK,QAAA,CAAC,kDAE5D,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}